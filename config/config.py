from dataclasses import dataclass
from typing import List


@dataclass
class BGVDefaults:
    # Default values
    N: int = 16
    LAMBDA_SECURITY: int = 128
    PLAINTEXT_MODULUS: int = 7
    BASE: int = 5
    
    LAMBDA_OPTIONS: List[str] = None
    
    def __post_init__(self):
        if self.LAMBDA_OPTIONS is None:
            self.LAMBDA_OPTIONS = ["80", "128", "192", "256"]


@dataclass
class AppSettings:
    # App settings
    
    # Window
    WINDOW_WIDTH: int = 1400
    WINDOW_HEIGHT: int = 1000
    MIN_WIDTH: int = 1400
    MIN_HEIGHT: int = 800
    
    APP_TITLE: str = "BGVision - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—Å–∫–∞—Ç–∞ —Å—Ö–µ–º–∞ BGV"
    APP_SUBTITLE: str = "–°–æ—Ñ—Ç—É–µ—Ä –∑–∞ —Ö–æ–º–æ–º–æ—Ä—Ñ–Ω–æ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–µ —Å –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è –≤—ä—Ä—Ö—É –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–∏ –¥–∞–Ω–Ω–∏."
    
    MAX_CRYPTOGRAMS: int = 26
    MAX_PARAMETER_ATTEMPTS: int = 100


@dataclass
class UITexts:
    # UI Text information
    
    # Tabs
    CONFIG_TAB_TITLE: str = "‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"
    OPERATIONS_TAB_TITLE: str = "üßÆ –•–æ–º–æ–º–æ—Ä—Ñ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏"
    
    # Sections
    SECTION_BGV_PARAMS: str = "üìä –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–∞ BGV —Å—Ö–µ–º–∞—Ç–∞"
    SECTION_PARAM_INFO: str = "‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ"
    SECTION_CREATE_CRYPTO: str = "üîí –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞–º–∏"
    SECTION_EXISTING_CRYPTO: str = "üîê –°—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞–º–∏"
    SECTION_OPERATIONS: str = "‚ö° –•–æ–º–æ–º–æ—Ä—Ñ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏"
    SECTION_OPERATION_SETTINGS: str = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è—Ç–∞"
    SECTION_OPERATION_HISTORY: str = "–ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ"
    SECTION_RESULTS: str = "üìä –†–µ–∑—É–ª—Ç–∞—Ç–∏ –∏ –¥–µ–∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–µ"
    
    # Params
    PARAM_N: str = "–°—Ç–µ–ø–µ–Ω –Ω–∞ –ø–æ–ª–∏–Ω–æ–º–∞ (n):"
    PARAM_LAMBDA: str = "–ü–∞—Ä–∞–º–µ—Ç—ä—Ä –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç (Œª):"
    PARAM_T: str = "–ú–æ–¥—É–ª –Ω–∞ —è–≤–Ω–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ (t):"
    PARAM_BASE: str = "–ë–∞–∑–∞ –∑–∞ —Ä–µ–ª–∏–Ω–µ–∞—Ä–∏–∑–∞—Ü–∏—è:"
    PARAM_Q: str = "–ú–æ–¥—É–ª –Ω–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è (q):"
    PARAM_Q_AUTO: str = "–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç Œª"
    
    # Operations
    OP_LEFT_OPERAND: str = "–õ—è–≤–∞ —Å—Ç—Ä–∞–Ω–∞:"
    OP_RIGHT_OPERAND: str = "–î—è—Å–Ω–∞ —Å—Ç—Ä–∞–Ω–∞:"
    OP_OPERATION: str = "–û–ø–µ—Ä–∞—Ü–∏—è:"
    OP_ADD: str = "+ –°—ä–±–∏—Ä–∞–Ω–µ"
    OP_MULTIPLY: str = "√ó –£–º–Ω–æ–∂–µ–Ω–∏–µ"
    
    CURR_CRYPTOGRAM: str = "–¢–µ–∫—É—â–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞–º–∞:"
    VALUES_INPUT: str = "–°—Ç–æ–π–Ω–æ—Å—Ç–∏ (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å—ä—Å –∑–∞–ø–µ—Ç–∞—è):"
    
    # Buttons
    BTN_GENERATE_KEYS: str = "–ì–µ–Ω–µ—Ä–∏—Ä–∞–π –∫–ª—é—á–æ–≤–µ"
    BTN_RESET_DEFAULTS: str = "–í—ä–∑—Å—Ç–∞–Ω–æ–≤–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏"
    BTN_ENCRYPT: str = "–ö—Ä–∏–ø—Ç–∏—Ä–∞–π"
    BTN_RANDOM: str = "–ì–µ–Ω–µ—Ä–∏—Ä–∞–π —Å–ª—É—á–∞–π–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏"
    BTN_REFRESH: str = "–û–±–Ω–æ–≤–∏"
    BTN_VIEW: str = "–ü—Ä–µ–≥–ª–µ–¥"
    BTN_CLEAR_ALL: str = "–ò–∑—á–∏—Å—Ç–∏ –≤—Å–∏—á–∫–∏"
    BTN_DECRYPT: str = "–î–µ–∫—Ä–∏–ø—Ç–∏—Ä–∞–π"
    BTN_CALCULATE: str = "–ü—Ä–µ—Å–º–µ—Ç–Ω–∏"
    BTN_CLEAR_HISTORY: str = "–ò–∑—á–∏—Å—Ç–∏ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞"
    
    # Status
    STATUS_NO_KEYS: str = "–ö–ª—é—á–æ–≤–µ: –ù–µ —Å–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏."
    STATUS_KEYS_SUCCESS: str = "–ö–ª—é—á–æ–≤–µ: –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏ —É—Å–ø–µ—à–Ω–æ!"
    STATUS_INVALID_PARAMS: str = "–ù–µ–≤–∞–ª–∏–¥–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏."
    STATUS_COMPATIBILITY_ERROR: str = "–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Å—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç!"
    STATUS_GENERATION_ERROR: str = "–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ!"


@dataclass
class ValidationRules:
    # Validation rules
    
    # Polynomial degree
    N_MIN: int = 4
    N_MAX: int = 128
    
    # Security parameter
    LAMBDA_MIN: int = 80
    LAMBDA_MAX: int = 512
    
    # Plaintext modulus
    T_MIN: int = 2
    T_MAX: int = 100
    
    # Base
    BASE_MIN: int = 2
    BASE_MAX: int = 10
    
    # Coefficient modulus bits
    COEF_BITS_MIN: int = 32
    COEF_BITS_MAX: int = 512
    COEF_BITS_BUFFER: int = 32


@dataclass
class NoiseManagement:
    #Noise management
    
    # Modulus switching limits
    SWITCHING_THRESHOLD: int = 40
    CRITICAL_THRESHOLD_OFFSET: int = 40
    WARNING_THRESHOLD_OFFSET: int = 45
    
    SWITCHING_THRESHOLD_PERCENT: float = 40.0
    CRITICAL_THRESHOLD_PERCENT: float = 60.0
    
    # Maximal attempts
    MAX_SWITCHING_ATTEMPTS: int = 50
    MAX_MODULUS_ATTEMPTS: int = 100


class ParameterDescriptions:
    # Parameter descriptions
    
    N_DESCRIPTION = """–°—Ç–µ–ø–µ–Ω –Ω–∞ –ø–æ–ª–∏–Ω–æ–º–∞ (n):

‚Ä¢ –û–ø—Ä–µ–¥–µ–ª—è —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∏—Ç–µ –∑–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–µ.
‚Ä¢ –¢—Ä—è–±–≤–∞ –¥–∞ –µ —Å—Ç–µ–ø–µ–Ω –Ω–∞ –¥–≤–æ–π–∫–∞—Ç–∞ (4, 8, 16, 32, 64, 128).
‚Ä¢ –ü–æ-–≥–æ–ª—è–º–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç = –ø–æ–≤–µ—á–µ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç, –Ω–æ –ø–æ-–±–∞–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.
‚Ä¢ –ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ: 16-32 –∑–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å—Ö–µ–º–∞—Ç–∞, 64-128 –∑–∞ –ø–æ-—Å–ª–æ–∂–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.
‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç: 128."""

    LAMBDA_DESCRIPTION = """–ü–∞—Ä–∞–º–µ—Ç—ä—Ä –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç (Œª):

‚Ä¢ –û–ø—Ä–µ–¥–µ–ª—è –Ω–∏–≤–æ—Ç–æ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—Å–∫–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç.
‚Ä¢ Œª = 80 –±–∏—Ç–∞ - –º–∏–Ω–∏–º–∞–ª–Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç.
‚Ä¢ Œª = 128 –±–∏—Ç–∞ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ).
‚Ä¢ Œª = 192/256 –±–∏—Ç–∞ - –≤–∏—Å–æ–∫–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç.
‚Ä¢ –ü–æ-–≤–∏—Å–æ–∫–æ Œª = –ø–æ-–≥–æ–ª–µ–º–∏ –º–æ–¥—É–ª–∏ = –ø–æ-–±–∞–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏."""

    T_DESCRIPTION = """–ú–æ–¥—É–ª –Ω–∞ —è–≤–Ω–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ (t):

‚Ä¢ –û–ø—Ä–µ–¥–µ–ª—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ—Ç–æ –Ω–∞ –Ω–µ–∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è.
‚Ä¢ –î–∏–∞–ø–∞–∑–æ–Ω –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –≤—ä–≤ –≤–µ–∫—Ç–æ—Ä–∞ –∑–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–µ: –æ—Ç 0 –¥–æ t-1.
‚Ä¢ t —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ (2, 3, 5, 7, 11, 13...).
‚Ä¢ –ú–∞–ª–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (2-31) —Å–∞ –¥–æ–±—Ä–∏ –∑–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å—Ö–µ–º–∞—Ç–∞.
‚Ä¢ –ü–æ-–≥–æ–ª–µ–º–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞—Ç —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ø–æ–≤–µ—á–µ –¥–∞–Ω–Ω–∏."""

    BASE_DESCRIPTION = """–ë–∞–∑–∞ –∑–∞ —Ä–µ–ª–∏–Ω–µ–∞—Ä–∏–∑–∞—Ü–∏—è:

‚Ä¢ –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —É–º–Ω–æ–∂–µ–Ω–∏–µ—Ç–æ.
‚Ä¢ –ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏: 3-10.
‚Ä¢ –ü–æ-–º–∞–ª–∫–∞ –±–∞–∑–∞ = –ø–æ-–±–∞–≤–Ω–∞ —Ä–µ–ª–∏–Ω–µ—Ä–∏–∑–∞—Ü–∏—è.
‚Ä¢ –ü–æ-–≥–æ–ª—è–º–∞ –±–∞–∑–∞ = –ø–æ–≤–µ—á–µ –ø–∞–º–µ—Ç –∑–∞ —Ä–µ–ª–∏–Ω–∏–∑–∏—Ä–∞—â–∏ –∫–ª—é—á–æ–≤–µ.
‚Ä¢ –û–±–∏–∫–Ω–æ–≤–µ–Ω–æ 3-5 –µ –¥–æ–±—ä—Ä –∏–∑–±–æ—Ä.
‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç: 10."""

    N_INFO_SHORT = "üîπ –°—Ç–µ–ø–µ–Ω –Ω–∞ –ø–æ–ª–∏–Ω–æ–º–∞ (n): –û–ø—Ä–µ–¥–µ–ª—è —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∏—Ç–µ –∑–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–µ.\n   ‚Ä¢ –ß–∏—Å–ª–æ—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ —Å—Ç–µ–ø–µ–Ω –Ω–∞ –¥–≤–æ–π–∫–∞—Ç–∞ (4, 8, 16, 32, 64, 128).\n   ‚Ä¢ –ü–æ-–≥–æ–ª—è–º–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç = –ø–æ–≤–µ—á–µ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç, –Ω–æ –ø–æ-–±–∞–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.\n   ‚Ä¢ –ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ: 16-32 –∑–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å—Ö–µ–º–∞—Ç–∞, 64-128 –∑–∞ –ø–æ-—Å–ª–æ–∂–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.\n   ‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç: 128."

    LAMBDA_INFO_SHORT = "üîπ –ü–∞—Ä–∞–º–µ—Ç—ä—Ä –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç (Œª): –û–ø—Ä–µ–¥–µ–ª—è –Ω–∏–≤–æ—Ç–æ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—Å–∫–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç (–≤ –±–∏—Ç–∞) –Ω–∞ –∫—Ä–∏–ø—Ç–æ—Å–∏—Å—Ç–µ–º–∞—Ç–∞, —Å–ø—Ä—è–º–æ –∏–∑–≤–µ—Å—Ç–Ω–∏ –∞—Ç–∞–∫–∏.\n   ‚Ä¢ Œª = 80 –±–∏—Ç–∞ - –º–∏–Ω–∏–º–∞–ª–Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –Ω–∞ —Å—Ö–µ–º–∞—Ç–∞.\n   ‚Ä¢ Œª = 128 –±–∏—Ç–∞ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ).\n   ‚Ä¢ Œª = 192/256 –±–∏—Ç–∞ - –≤–∏—Å–æ–∫–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –Ω–∞ —Å—Ö–µ–º–∞—Ç–∞."

    T_INFO_SHORT = "üîπ –ú–æ–¥—É–ª –Ω–∞ —è–≤–Ω–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ (t): –û–ø—Ä–µ–¥–µ–ª—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ—Ç–æ –Ω–∞ –Ω–µ–∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è.\n   ‚Ä¢ –î–∏–∞–ø–∞–∑–æ–Ω –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –≤—ä–≤ –≤–µ–∫—Ç–æ—Ä–∞ –∑–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–µ: –æ—Ç 0 –¥–æ t-1.\n   ‚Ä¢ t —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ (2, 3, 5, 7, 11, 13...).\n   ‚Ä¢ –ú–∞–ª–∫–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (2-31) —Å–∞ –¥–æ–±—Ä–∏ –∑–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å—Ö–µ–º–∞—Ç–∞.\n   ‚Ä¢ –ü–æ-–≥–æ–ª–µ–º–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞—Ç —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ø–æ–≤–µ—á–µ –¥–∞–Ω–Ω–∏."

    BASE_INFO_SHORT = "üîπ –ë–∞–∑–∞ –∑–∞ —Ä–µ–ª–∏–Ω–µ–∞—Ä–∏–∑–∞—Ü–∏—è: –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —É–º–Ω–æ–∂–µ–Ω–∏–µ—Ç–æ.\n   ‚Ä¢ –ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏: –æ—Ç 3 –¥–æ 10.\n   ‚Ä¢ –ü–æ-–º–∞–ª–∫–∞ –±–∞–∑–∞ = –ø–æ-–±–∞–≤–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–ª–∏–Ω–µ–∞—Ä–∏–∑–∏—Ä–∞–Ω–µ.\n   ‚Ä¢ –ü–æ-–≥–æ–ª—è–º–∞ –±–∞–∑–∞ = –ø–æ–≤–µ—á–µ –ø–∞–º–µ—Ç –∑–∞ —Ä–µ–ª–∏–Ω–µ–∞—Ä–∏–∑–∏—Ä–∞—â–∏ –∫–ª—é—á–æ–≤–µ.\n   ‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç: 10."

    Q_INFO_SHORT = "üîπ –ú–æ–¥—É–ª –Ω–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è (q): –û–ø—Ä–µ–¥–µ–ª—è ciphertext space - –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ—Ç–æ –Ω–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è. \n   –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ –≤—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ Œª –∑–∞ –æ–ø—Ç–∏–º–∞–ª–Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç."


@dataclass
class HelpTexts:
    
    HELP_N: str = ParameterDescriptions.N_DESCRIPTION
    HELP_LAMBDA: str = ParameterDescriptions.LAMBDA_DESCRIPTION  
    HELP_T: str = ParameterDescriptions.T_DESCRIPTION
    HELP_BASE: str = ParameterDescriptions.BASE_DESCRIPTION


@dataclass
class WelcomeMessage:
    # Welcome message in the operations tab
    
    CONTENT: str = """üîπ –î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ BGVision!

üîß –ù–ê–ß–ê–õ–û:
1. –û—Ç–∏–¥–µ—Ç–µ –≤ —Ç–∞–±–∞ ‚Äû–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è" –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ.
2. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ ‚Äû–ì–µ–Ω–µ—Ä–∏—Ä–∞–π –∫–ª—é—á–æ–≤–µ".
3. –ò–∑–±–µ—Ä–µ—Ç–µ —Ç–∞–±–∞ ‚Äû–•–æ–º–æ–º–æ—Ä—Ñ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏".

üìö –¢–ê–ë–û–í–ï:
‚Ä¢ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∏ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∫–ª—é—á–æ–≤–µ.
‚Ä¢ –•–æ–º–æ–º–æ—Ä—Ñ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞–º–∏ –∏ –∏–∑–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç—è—Ö.

üí° –°–™–í–ï–¢: –ó–∞–ø–æ—á–Ω–µ—Ç–µ —Å –ø–æ-–º–∞–ª–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞ –ø–æ-–±—ä—Ä–∑–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏!

üîó –°–™–ó–î–ê–í–ê–ù–ï –ù–ê –ö–†–ò–ü–¢–û–ì–†–ê–ú–ò:
‚Ä¢ –í—ä–≤–µ–¥–µ—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –∑–∞ –≤–∞—à–∞—Ç–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞–º–∞.
‚Ä¢ –ü—Ä–∞–≤–µ—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ç–æ A+B‚ÜíR1, R1*C‚ÜíR2.
‚Ä¢ –°–ª–µ–¥–µ—Ç–µ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ.
‚Ä¢ –î–µ–∫—Ä–∏–ø—Ç–∏—Ä–∞–π—Ç–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞.
"""


@dataclass
class ParameterInfo:
    
    @property
    def CONTENT(self) -> str:
        return f"""‚öôÔ∏è –ü–ê–†–ê–ú–ï–¢–†–ò –ù–ê –°–•–ï–ú–ê–¢–ê:
{ParameterDescriptions.N_INFO_SHORT}

{ParameterDescriptions.LAMBDA_INFO_SHORT}

{ParameterDescriptions.T_INFO_SHORT}

{ParameterDescriptions.BASE_INFO_SHORT}

{ParameterDescriptions.Q_INFO_SHORT}

‚öôÔ∏è –í–†–™–ó–ö–ê Œª ‚Üí q: q ‚âà 2^(Œª + log‚ÇÇ(n)) –∑–∞ –ø–æ—Å—Ç–∏–≥–∞–Ω–µ –Ω–∞ Œª-–±–∏—Ç–æ–≤–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç.

‚ö†Ô∏è –ü—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∫–ª—é—á–æ–≤–µ—Ç–µ!

üí° –°–™–í–ï–¢–ò –ó–ê –û–ü–¢–ò–ú–ê–õ–ù–ò –ü–ê–†–ê–ú–ï–¢–†–ò:
‚Ä¢ –ó–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–æ–≤–∏ —Ü–µ–ª–∏: n=16, Œª=128, t=7.
‚Ä¢ –ó–∞ —Ä–µ–∞–ª–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: n ‚â• 64, Œª ‚â• 128, t —Å–ø–æ—Ä–µ–¥ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—Ç–∞.
‚Ä¢ –ü–æ-–≥–æ–ª–µ–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ = –ø–æ–≤–µ—á–µ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç, –Ω–æ –ø–æ-–±–∞–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.
‚Ä¢ –ó–∞–ø–æ—á–Ω–µ—Ç–µ —Å –º–∞–ª–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∏ –≥–∏ —É–≤–µ–ª–∏—á–∞–≤–∞–π—Ç–µ –ø—Ä–∏ –Ω—É–∂–¥–∞.

üéØ –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò –ü–†–ï–ü–û–†–™–ö–ò:
‚Ä¢ –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ –∑–∞ t (2, 3, 5, 7, 11, 13...).
‚Ä¢ –ë–∞–∑–∞ 3-5 –µ –æ–ø—Ç–∏–º–∞–ª–Ω–∞ –∑–∞ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏.
‚Ä¢ Œª=128 –µ –¥–æ–±—ä—Ä –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç.
"""


class Config:
    # Main config class
    
    def __init__(self):
        self.bgv = BGVDefaults()
        self.app = AppSettings()
        self.ui_texts = UITexts()
        self.validation = ValidationRules()
        self.noise = NoiseManagement()
        self.help = HelpTexts()
        self.welcome = WelcomeMessage()
        self.param_info = ParameterInfo()

        self.descriptions = ParameterDescriptions()
    
    def get_instruction_text(self, n=None, t=None):
        if n is None:
            n = self.bgv.N
        if t is None:
            t = self.bgv.PLAINTEXT_MODULUS
            
        return f"–í—ä–≤–µ–¥–µ—Ç–µ —Ç–æ—á–Ω–æ {n} —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ (0 –¥–æ {t - 1})"
    
    def validate_power_of_two(self, n):
        return n > 0 and (n & (n - 1)) == 0
    
    def get_suggested_coef_bits(self, lambda_security, n):
        import math
        log_n = math.log2(n)
        coef_bits = lambda_security + int(log_n) + self.validation.COEF_BITS_BUFFER
        return max(self.validation.COEF_BITS_MIN, 
                  min(coef_bits, self.validation.COEF_BITS_MAX))

config = Config()

# Export
__all__ = [
    'Config', 'BGVDefaults', 'AppSettings', 'UITexts', 'ValidationRules',
    'NoiseManagement', 'HelpTexts', 'WelcomeMessage', 'ParameterInfo', 
    'ParameterDescriptions', 'config'
]